@typeparam TEnum

<RadzenDropDown Name=@Name Data="@Items"
                Value=@Value
                ValueChanged=@ValueChanged
                TextProperty="Text"
                ValueProperty="Value"
                TValue="TEnum"
                Style=@Style />

@code {


    [Parameter] public string Name { get; set; } = "";

    [Parameter] public string Style { get; set; } = "width:200px";


    [Parameter] public TEnum Value { get; set; }
    [Parameter] public EventCallback<TEnum> ValueChanged { get; set; }




    private List<Item<TEnum>> Items => Enum.GetValues(typeof(TEnum))
        .Cast<TEnum>()
        .Select(e => new Item<TEnum>
        {
            Value = e,
            Text = GetDisplayName(e)
        }).ToList();

    private string GetDisplayName(object value)
    {
        var field = value.GetType().GetField(value.ToString());
        var attr = field.GetCustomAttributes(typeof(System.ComponentModel.DataAnnotations.DisplayAttribute), false)
                        .Cast<System.ComponentModel.DataAnnotations.DisplayAttribute>()
                        .FirstOrDefault();
        return attr?.Name ?? value.ToString();
    }

    private class Item<T>
    {
        public string Text { get; set; }
        public T Value { get; set; }
    }
}
